#/bin/bash

# CVE-2015-0899

git clone https://github.com/pgbhagat/struts1-forever.git

cd struts1-forever

mkdir lachlan

# Prints a file summary of commits, authors, dates and lines changed
git log --stat src/share/org/apache/struts/config/ActionConfig.java > lachlan/ActionConfig_log.txt
git log --stat src/share/org/apache/struts/util/RequestUtils.java > lachlan/RequestUtils_log.txt
git log --stat src/share/org/apache/struts/validator/DynaValidatorForm.java > lachlan/DynaValidatorForm_log.txt
git log --stat src/share/org/apache/struts/validator/ValidatorForm.java > lachlan/ValidatorForm_log.txt

# Prints a summary of authors and number of commtis
git shortlog src/share/org/apache/struts/config/ActionConfig.java > lachlan/ActionConfig_shortlog.txt
git shortlog src/share/org/apache/struts/util/RequestUtils.java > lachlan/RequestUtils_shortlog.txt
git shortlog src/share/org/apache/struts/validator/DynaValidatorForm.java > lachlan/DynaValidatorForm_shortlog.txt
git shortlog src/share/org/apache/struts/validator/ValidatorForm.java > lachlan/ValidatorForm_shortlog.txt
